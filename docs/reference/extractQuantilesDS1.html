<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Secure ranking of "V2BR" (vector to be ranked) across all sources
and use of these ranks to estimate global quantiles across all studies — extractQuantilesDS1 • dsBase</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Secure ranking of " v2br to be ranked across all sources and use of these ranks estimate global quantiles studies extractquantilesds1><meta property="og:description" content="identify the global values of V2BR (i.e. the values across all
studies) that relate to a set of quantiles to be evaluated."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dsBase</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">6.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Secure ranking of "V2BR" (vector to be ranked) across all sources
and use of these ranks to estimate global quantiles across all studies</h1>
    
    <div class="hidden name"><code>extractQuantilesDS1.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>identify the global values of V2BR (i.e. the values across all
studies) that relate to a set of quantiles to be evaluated.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">extractQuantilesDS1</span><span class="op">(</span><span class="va">extract.quantiles</span>, <span class="va">extract.summary.output.ranks.df</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>extract.quantiles</dt>
<dd><p>one of a restricted set of character strings that
fix the set of quantile values for which the corresponding values across
all studies are to be estimated. For more details
see the associated document entitled "secure.global.ranking.docx", the
header for ds.ranksSecure and ds.extractQuantiles functions.
The value of this argument is set in choosing the value of the argument
&lt;quantiles.for.estimation&gt; in ds.ranksSecure.</p></dd>


<dt>extract.summary.output.ranks.df</dt>
<dd><p>character string specifying optional
name for the data.frame written to the serverside on each data source that
contains 5 of the key output variables from the ranking procedure pertaining
to that particular data source. This data frame represents the key source of
information - including global ranks - that determines the values of V2BR
that are identified as corresponding to the particular set of quantiles to
be estimated as specified by the &lt;quantiles.for.estimation&gt; argument of
function ds.ranksSecure (and the &lt;extract.quantiles&gt; argument of
ds.extractQuantiles).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>as a first step in creating the vector of values of values of V2BR
that correspond to each quantile value, extractQuantilesDS1 identifies the
two closest quantile values across all studies that span each key quantile
value. These are saved as the data frame "closest.bounds.df" on the
clientside and then saved on the serverside by ds.dmtC2S into the data frame
"global.bounds.df". Also if the number of observations across all studies is
too small, and a  disclosure risk exists if the final.quantile.vector is made
available via the client, this function stops the processing and returns a
warning/error message.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Severside aggregate function called by ds.extractQuantiles via
ds.ranksSecure. As well as estimating the key values of V2BR that correspond
to the selected quantiles, this function also implements a disclosure control
trap. If the ratio of the total number of all observations across all studies
divided by the number of quantile values to be estimated is less than or
equal to nfilter.subset (which specifies the minimum size of a subset) the
process stops and an error message is returned suggesting that you might
try selecting a narrower range of quantiles with less quantile values to be
estimated as specified by the argument &lt;quantiles.for.estimation&gt; of the
function ds.ranksSecure. For more details about the cluster of functions that
collectively enable secure global ranking and estimation of global quantiles
see the associated document entitled "secure.global.ranking.docx"</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Paul Burton 11th November, 2021</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by DataSHIELD Developers.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

